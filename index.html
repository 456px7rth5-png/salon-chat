<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Salon Exclusive</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css" rel="stylesheet" />
    <style>
        :root {
            --chat--color-primary: #C5A059 !important;
            --chat--color-primary-shade-50: #b08d4b !important;
            --chat--color-secondary: #111111 !important;
            --chat--color-white: #ffffff !important;
            --chat--color-light: #f9f9f9 !important;
            
            --chat--border-radius: 0px !important;
            --chat--header--background: #111111 !important;
            --chat--header--color: #C5A059 !important;
            
            --chat--message--user--background: #C5A059 !important;
            --chat--message--user--color: #ffffff !important;
        }

        html, body {
            margin: 0 !important; 
            padding: 0 !important; 
            width: 100vw !important; 
            height: 100vh !important; 
            overflow: hidden !important; 
            background-color: #111111 !important;
        }

        .chat-header h1, .chat-welcome-screen h1 {
            font-family: 'Playfair Display', serif !important;
        }

        /* Zwingt den Chat auf 100% ohne Ränder */
        .chat-layout { 
            max-width: 100vw !important; 
            width: 100vw !important; 
            height: 100vh !important; 
            margin: 0 !important; 
            border-radius: 0 !important;
        }
    </style>
</head>
<body>
    <script type="module">
        import { createChat } from 'https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js';

        const urlParams = new URLSearchParams(window.location.search);
        const salonId = urlParams.get('salon_id') || 'KEINE_ID';
        
        const resetSession = 'session-' + Date.now();

        createChat({
            webhookUrl: 'https://mihailstoychev.app.n8n.cloud/webhook/7509545f-3d2e-449c-970f-fb6948b96d61/chat',
            mode: 'fullscreen',
            sessionId: resetSession,
            metadata: { salon_id: salonId },
            showWelcomeScreen: true,
            initialMessages: [
                "Здравейте! Добре дошли в нашия салон.",
                "Мога ли да ви помогна да запазите удобен за вас час?",
                "Моля, посочете дата и час за вашата среща."
            ],
            i18n: {
                en: {
                    title: 'Salon Exclusive',
                    subtitle: 'Вашият личен асистент',
                    inputPlaceholder: 'Напишете вашия въпрос..', 
                },
            }
        });
    </script>
</body>
</html>
